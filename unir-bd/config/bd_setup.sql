CREATE DATABASE TFMUNIRBD;
USE TFMUNIRBD;

CREATE TABLE USER (
    USERID INT(6) AUTO_INCREMENT,
    USERNAME VARCHAR(16) NOT NULL,
    FULLNAME VARCHAR(64) NOT NULL,
    PASSWORD VARCHAR(512) NOT NULL,
    CREATIONDATE TIMESTAMP NOT NULL,
    PRIMARY KEY (USERID)  
);

CREATE TABLE ACCOUNT(
    ACCOUNTID INT(6) AUTO_INCREMENT,
    ACCOUNTNUMBER VARCHAR(64) NOT NULL,
    USERID INT(6),
    PRIMARY KEY (ACCOUNTID),
    FOREIGN KEY (USERID) REFERENCES USER(USERID) 
);

CREATE TABLE TRANSACTIONS(
    TRANSACTIONID INT(6) AUTO_INCREMENT,
    USERID INT(6),
    ACCOUNTID INT(6),
    AMOUNT INT(32) NOT NULL,
    DESCRIPTION VARCHAR(128),
    CURRENTBALANCE INT(32) NOT NULL,
    TRANSACTIONDATE TIMESTAMP  NOT NULL,
    PRIMARY KEY (TRANSACTIONID),
    FOREIGN KEY (USERID) REFERENCES USER(USERID)
);

INSERT INTO USER (USERNAME,FULLNAME,PASSWORD,CREATIONDATE) VALUES ('USUPRUEBAS','USUARIO DI PRUEBA','CFBD3E3A8ADC49B9E0061ADE86C84B499012048C903185821F9428DD981C4610B6D660D484A88641BF81B5B840422EA9E3A5DA29C12821EED60B0D281E5F43DB',CURRENT_TIMESTAMP);
INSERT INTO ACCOUNT (ACCOUNTNUMBER,USERID) VALUES ('ES111122223333344445555',1);
INSERT INTO TRANSACTIONS (USERID,ACCOUNTID,AMOUNT,DESCRIPTION,CURRENTBALANCE,TRANSACTIONDATE) VALUES (1,1,1000,'PAGO GAMBAS FRITAS',1000,CURRENT_TIMESTAMP);
